[
  {
    "Plan": {
      "Node Type": "Sort",
      "Parallel Aware": false,
      "Startup Cost": 35567.52,
      "Total Cost": 35570.02,
      "Plan Rows": 1001,
      "Plan Width": 36,
      "Actual Startup Time": 284.524,
      "Actual Total Time": 284.558,
      "Actual Rows": 1001,
      "Actual Loops": 1,
      "Output": ["t.user_id", "(sum((t.amount * (SubPlan 1))))"],
      "Sort Key": ["t.user_id"],
      "Sort Method": "quicksort",
      "Sort Space Used": 71,
      "Sort Space Type": "Memory",
      "Shared Hit Blocks": 260301,
      "Shared Read Blocks": 566,
      "Shared Dirtied Blocks": 0,
      "Shared Written Blocks": 0,
      "Local Hit Blocks": 0,
      "Local Read Blocks": 0,
      "Local Dirtied Blocks": 0,
      "Local Written Blocks": 0,
      "Temp Read Blocks": 0,
      "Temp Written Blocks": 0,
      "Plans": [
        {
          "Node Type": "Aggregate",
          "Strategy": "Hashed",
          "Partial Mode": "Simple",
          "Parent Relationship": "Outer",
          "Parallel Aware": false,
          "Startup Cost": 35505.12,
          "Total Cost": 35517.64,
          "Plan Rows": 1001,
          "Plan Width": 36,
          "Actual Startup Time": 284.077,
          "Actual Total Time": 284.352,
          "Actual Rows": 1001,
          "Actual Loops": 1,
          "Output": ["t.user_id", "sum((t.amount * (SubPlan 1)))"],
          "Group Key": ["t.user_id"],
          "Planned Partitions": 0,
          "HashAgg Batches": 1,
          "Peak Memory Usage": 577,
          "Disk Usage": 0,
          "Shared Hit Blocks": 260298,
          "Shared Read Blocks": 566,
          "Shared Dirtied Blocks": 0,
          "Shared Written Blocks": 0,
          "Local Hit Blocks": 0,
          "Local Read Blocks": 0,
          "Local Dirtied Blocks": 0,
          "Local Written Blocks": 0,
          "Temp Read Blocks": 0,
          "Temp Written Blocks": 0,
          "Plans": [
            {
              "Node Type": "Seq Scan",
              "Parent Relationship": "Outer",
              "Parallel Aware": false,
              "Relation Name": "transactions",
              "Schema": "public",
              "Alias": "t",
              "Startup Cost": 0.00,
              "Total Cost": 1415.12,
              "Plan Rows": 86412,
              "Plan Width": 20,
              "Actual Startup Time": 0.008,
              "Actual Total Time": 7.226,
              "Actual Rows": 86412,
              "Actual Loops": 1,
              "Output": ["t.ts", "t.user_id", "t.currency", "t.amount"],
              "Shared Hit Blocks": 0,
              "Shared Read Blocks": 551,
              "Shared Dirtied Blocks": 0,
              "Shared Written Blocks": 0,
              "Local Hit Blocks": 0,
              "Local Read Blocks": 0,
              "Local Dirtied Blocks": 0,
              "Local Written Blocks": 0,
              "Temp Read Blocks": 0,
              "Temp Written Blocks": 0
            },
            {
              "Node Type": "Limit",
              "Parent Relationship": "SubPlan",
              "Subplan Name": "SubPlan 1",
              "Parallel Aware": false,
              "Startup Cost": 0.28,
              "Total Cost": 0.39,
              "Plan Rows": 1,
              "Plan Width": 40,
              "Actual Startup Time": 0.003,
              "Actual Total Time": 0.003,
              "Actual Rows": 1,
              "Actual Loops": 86412,
              "Output": ["(CASE WHEN ((t.currency)::text = 'GBP'::text) THEN '1'::numeric ELSE e.rate END)", "e.ts"],
              "Shared Hit Blocks": 260298,
              "Shared Read Blocks": 15,
              "Shared Dirtied Blocks": 0,
              "Shared Written Blocks": 0,
              "Local Hit Blocks": 0,
              "Local Read Blocks": 0,
              "Local Dirtied Blocks": 0,
              "Local Written Blocks": 0,
              "Temp Read Blocks": 0,
              "Temp Written Blocks": 0,
              "Plans": [
                {
                  "Node Type": "Index Scan",
                  "Parent Relationship": "Outer",
                  "Parallel Aware": false,
                  "Scan Direction": "Backward",
                  "Index Name": "exchange_rate_ts_index",
                  "Relation Name": "exchange_rates",
                  "Schema": "public",
                  "Alias": "e",
                  "Startup Cost": 0.28,
                  "Total Cost": 26.89,
                  "Plan Rows": 243,
                  "Plan Width": 40,
                  "Actual Startup Time": 0.002,
                  "Actual Total Time": 0.002,
                  "Actual Rows": 1,
                  "Actual Loops": 86412,
                  "Output": ["CASE WHEN ((t.currency)::text = 'GBP'::text) THEN '1'::numeric ELSE e.rate END", "e.ts"],
                  "Index Cond": "(e.ts <= t.ts)",
                  "Rows Removed by Index Recheck": 0,
                  "Filter": "(((e.from_currency)::text = (t.currency)::text) AND ((e.to_currency)::text = 'GBP'::text))",
                  "Rows Removed by Filter": 1,
                  "Shared Hit Blocks": 260298,
                  "Shared Read Blocks": 15,
                  "Shared Dirtied Blocks": 0,
                  "Shared Written Blocks": 0,
                  "Local Hit Blocks": 0,
                  "Local Read Blocks": 0,
                  "Local Dirtied Blocks": 0,
                  "Local Written Blocks": 0,
                  "Temp Read Blocks": 0,
                  "Temp Written Blocks": 0
                }
              ]
            }
          ]
        }
      ]
    },
    "Planning": {
      "Shared Hit Blocks": 186,
      "Shared Read Blocks": 28,
      "Shared Dirtied Blocks": 0,
      "Shared Written Blocks": 0,
      "Local Hit Blocks": 0,
      "Local Read Blocks": 0,
      "Local Dirtied Blocks": 0,
      "Local Written Blocks": 0,
      "Temp Read Blocks": 0,
      "Temp Written Blocks": 0
    },
    "Planning Time": 0.856,
    "Triggers": [
    ],
    "Execution Time": 284.704
  }
]
